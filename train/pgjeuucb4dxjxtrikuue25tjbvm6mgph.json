{
    "id": "pgjeuucb4dxjxtrikuue25tjbvm6mgph",
    "title": "Overlapping Experiment Infrastructure: More, Better, Faster Experimentation",
    "info": {
        "author": [
            "Diane Tang, Department of Computer Science, Stanford University"
        ],
        "published": "Oct. 1, 2010",
        "recorded": "July 2010",
        "category": [
            "Top->Mathematics->Statistics",
            "Top->Computer Science->Machine Learning"
        ]
    },
    "url": "http://videolectures.net/kdd2010_tang_oei/",
    "segmentation": [
        [
            "OK, specially considering I'm also in the advertising field.",
            "I feel like dying can give us a whole day electron this but have to cut the times.",
            "So we heard an hour.",
            "She is it space to Peter.",
            "OK so so I just want to briefly mention.",
            "Also this is our best industry track paper runner up.",
            "Yeah from we announced last night so so unlike the other Diane I'm actually impacting explicitly about how we run randomized experiments at Google and specifically about how we run as many as possible."
        ],
        [
            "Hopefully I'm preaching to the choir here, but just let me start briefly with a little bit of motivation about why we want to run experiments alright and 1st, what do I mean by an experiment?",
            "Well, what we do at Google.",
            "We basically take our live incoming traffic, and this is basically the incoming search queries.",
            "You go to Google, you type in the query Flowers.",
            "Those are our queries that we come in, and we want an experiment.",
            "What we're doing is we're changing how we want to serve the results for that query.",
            "The goal of these experiences to gather the data on the impact of these changes in order to decide whether or not we want to launch this change doesn't know how do you just behave differently, if at all?",
            "Now just one brief note in traditional Cisco literature, an experiment refers to a control and a bunch of treatments or treatment arms right at Google we have slightly different terminology because we're weird and risky.",
            "Experiment for us is basically an individual arm, so you know the entire set of experiments is going to be experiment group, which would be an experiment in traditional school parlance.",
            "So just like you were clear, now that I'm saying that we're going to be testing complete."
        ],
        [
            "Run the gamut right?",
            "They can be very simple UI changes in some like UI, so maybe you want to change the top bad back home color between yellow, blue and green, which hopefully will show up there."
        ],
        [
            "And we also can do more complex UI, such as whether or not we want to Google suggest so queries."
        ],
        [
            "Now let's play more near and dear to people like KDD.",
            "So you have machine learning clicks written algorithms right?",
            "You can also run life experience here where you're bearing the various parameters of the items or even testing out various items in order to see how well that prediction works."
        ],
        [
            "Now the question really isn't why we want to run experiments, but why do we want to run so many experiments, right?",
            "And so The thing is that Google is growing and we're continuing to innovate.",
            "And as we're growing, we want to run experiments on all the different things that we do and in order to do that with one more experience with running better, I have to run them faster Now, given the length of time that I have, I'm going to focus primarily on how we run more experiments with or overlapping experiment infrastructure.",
            "If you want to think about better and faster, please give you the."
        ],
        [
            "So you're probably like why is running that so many times hard?",
            "I mean, after lunch additional signature, you need 10s, hundreds, maybe thousands of samples in order to actually get statistically significant results in your Google.",
            "You've got tons of queries.",
            "What could make running experience so difficult?",
            "Well, it's actually pretty difficult for the following two reasons.",
            "The first is that the metrics are really highly variable, right?",
            "Just think about what you as a user do when you type in the query, say Flowers versus the query.",
            "You know who said.",
            "If I had the time, that would be shorter.",
            "In this case, the talk would be shorter, but basically what happens that you know on you know something like Flowers?",
            "You're probably comparison shopping.",
            "You're clicking around, so on and so forth, right on the lot of query, you really just want a single result.",
            "You may not even click right.",
            "The variability of what users do on queries is going to be vastly different.",
            "You can also think of us in terms of segments of traffic, right?",
            "What's going to happen in English versus Swahili, right?",
            "The quality of the documents, the number of documents, number of advertisers?",
            "This fiscal to the users.",
            "But just going to be vastly different in English versus Swahili.",
            "And therefore the variability of our metrics, you know, be it clicked away soon, and so forth is just really high.",
            "And so in order to actually get statistically significant, unreasonable amount of time, you actually need a lot of traffic in an experiment.",
            "And the other reason that we need that we need a lot of traffic is that were often testing changes that have a load trigger rate.",
            "In other words, they show up in very few queries, right?",
            "So just think about whether information, whether information you know how hard is in DC is very, very useful.",
            "However, if you sit on every single query, that's kind of pointless, right?",
            "So you're only really want to show the information.",
            "On the queries where it's appropriate, and that's the case, there are oftentimes features that basically only trigger on very small number of queries.",
            "However, when they show up.",
            "The user may change their subsequent queries and so you really have to basically run the experiment on all of the users queries in order to understand what's happening, even though it may only trigger on very few.",
            "And somehow I met with the next slide.",
            "Sorry bout that.",
            "So as well.",
            "Basically our experience we need a lot of traffic in order to get significant synergy."
        ],
        [
            "Normal time frame.",
            "Alright, so before I go into our infrastructure, let me go through a few basic definitions.",
            "Alright, the first thing is that we have incoming search query requests.",
            "I'm going to call it R and then basically have two pieces of information right.",
            "The first is going to be a browser cookie.",
            "See right?",
            "There basically is basically a randomly generated number that we you know we store in the browser.",
            "On.",
            "The second thing is a set of conditions, right?",
            "And this can be information about the request, which is like what language is a query in what country is the user coming from, what browser they're using it using Firefox, Chrome, Internet Explorer, things like that.",
            "Generally speaking, a lot of the conditions are unlikely to change across the request that the users making right.",
            "So, for example, you're probably if you're a user you're planning not hopping back and forth between Brazil and Japan.",
            "You're probably going to be either Brazil or Japan.",
            "The quarreling wouldn't change, but generally speaking the conditions are probably going to be stable across a cookie.",
            "Now the other thing that we have that in our system we have parameters.",
            "If I should use the word flag for historical reasons, we use the replies as opposed to parameters.",
            "But if I say flag, I really need parameter, right?",
            "And so our system has parameters like, you know.",
            "Top background color.",
            "Google suggests on or off the algorithm parameters.",
            "Things like that, and every parameter has a default value.",
            "So then more than experiment do well.",
            "The experiments have to answer 2 questions.",
            "The first is diversion.",
            "Is this incoming request in my experiment or not?",
            "The other question is which set of problems are my overriding right?",
            "So you know, if I'm running an experiment on the top add background color, I say well instead of yellow, please make the top background color blue right now for the first thing that diversion, there's sort of two things that can take into account.",
            "The first is conditions, so say for example, I only want to experiment on English traffic because for everyone I believe, but my model for English so far something like that.",
            "So you know basically know the conditions in order to say OK, well I only want English traffic.",
            "The other thing that we care about for experiments is the unit of diversion, right?",
            "You know, is it the two basic ones is cookie versus traffic right on cookie based experiments?",
            "What you do is, you say, is this cookie in my experiment or not?",
            "And if so every single request?",
            "Every single query that that Cookie does is considered to be in my experiment.",
            "This is very useful for UI experiments where you know if you changed the top add background color going from yellow to blue to green is kind of disconcerting and a bad experience, so you don't really want to do that.",
            "The other thing that you can do is you can random traffic, experiment and the idea here is that on every single query, regardless of which cook it is you flip and incited die, and say, is this request in my experiment or not?",
            "So this can be more useful for you know more less user visible changes.",
            "Given that I'm going to focus primarily on cookie based experiments in this talk, but again, you can generalize from there."
        ],
        [
            "Alright, so given these backgrounds you can sort of think about two extremes with regards to how you want to run experiments, right?",
            "The first extreme is what I call the single layer, and this is, you know, a very you know it's a very straightforward infrastructure and it's actually what we use priority than 7, right?",
            "The idea here is that every request is in at most one experiment.",
            "What you do is you take an incoming request and you have a cookie and you basically take some function like a fingerprint of the cookie and you want it by 1000.",
            "Could be 1000, could be 5000, could be 100.",
            "Let's just use 1000 for now.",
            "You get a cookie MoD bucket right?",
            "And so on.",
            "The X axis for all of these charts you're going to have the cookie MoD bucket on the X axis alright, and one experiment is to say OK. Well I want 10 cookie MoD buckets.",
            "I want to come up with zero through time, right?",
            "Or zero through nine.",
            "I guess you're doing 0 indexed right?",
            "And that would be equivalent to a 1% experiment alright.",
            "And so in this example we basically have two sets of experience.",
            "We have a top add background sort of experience with the control of yellow and then choose from blue and green and they have another set of experience about suggest.",
            "Armor suggest off now.",
            "This is a very simple and straightforward experiment in protector right.",
            "You basically say extreme experiment, but it says which cooking wine buckets it means.",
            "It's very clear with regards to what you do at diversion time.",
            "It's just very simple right?",
            "The main issue that it is infinitely scalable for reasons that I mentioned before.",
            "The high variability and the load trigger."
        ],
        [
            "Now you can scale this approach a little bit more by taking advantage of conditions, right?",
            "What you can do is you can say, well, I know that certain conditions are disjoint.",
            "So for example, if an experiment running suggests, for example is only running in Brazil, say and I have a weather string only in Japan, then those two experience can share a cookie mine.",
            "Now the key thing to note here is that each individual request or each individual cookie is still only in a single experiment, because as I mentioned before, you're not going to be toggling back and forth between Brazil and Japan.",
            "But the key thing is that you can in fact share the same cookie MoD bucket, right?",
            "What happens what basically what this lease is that you really can increase your scalability?",
            "You can probably, you know, probably dublish that amount of experience that you can run, but it is a more complex system.",
            "You have to actually do checks in order to figure out what's disjoint, and you know are you actually allowed to show this cooking bucket and you have more fragmentation, right?",
            "If you're basically saying, Oh well, you know I can share this cookie MoD then once you actually have an experiment like the top add background color.",
            "In this example, let's run all traffic you have to find something actually free across all of your conditions.",
            "Now."
        ],
        [
            "The other extreme is multi factorial experiment design.",
            "This is what's commonly you know in traditional split or you can have you know horribly complex things about fractional designs and so on and so forth.",
            "And the idea here is that you can vary each parameter in dependently right.",
            "So for example here what we have here is we have effectively in a three parameter at the top that back in color at the top add text color suggests on or off, and all these three parameters vary independently.",
            "Basically, you know the simplest design case, you do a complete cross part of all these different parameters.",
            "Right now this seems great.",
            "Why can't we do this?",
            "Well there again two very practical issues.",
            "The first ones that we really only want to serve valid pages, so you know the simplest example here.",
            "If we serve blue text on a blue background while a valid experiment, there's not a readable page for our users and we cannot serve that right.",
            "The other thing is that it's not like we have a fixed set of parameters, right?",
            "Our system is constantly changing, or you know every week we're adding and removing parameters or you know, are you know we're basically adding new features, were testing out new things.",
            "And so if we can sort of like design, experiment once and be done with it and say, Oh well, here's the optimal settings, right, everything's working all the time.",
            "And so basically always adding and removing experience, adding and removing parameters and the other thing is that different experience may want to use different spammers, so maybe one month of experience basically modifies the top and bottom color, the top at text color, and then another set of experiences.",
            "Oh well, I'm playing out suggests, but I haven't also wanted to change the top at text color.",
            "You know, because I want to change the suggesting to have different texts.",
            "I want all the match.",
            "Right, and so you want to be able to have that flexibility.",
            "Alright, So what do we do?",
            "What we do is we introduce our overlapping experiment infrastructure and there are two main."
        ],
        [
            "Concept there layers in domains, so let's start with layers.",
            "Right now the idea behind layers is that we basically take our experiment parameters.",
            "What we want to do is we want to partition those printers into disjoint sets, right each disjoint set of parameters is now associated with the layer.",
            "An layers can now contain experiments and the experience within a layer can only modify the parameters associated with that layer, and every layer is in fact independent of each other.",
            "You know it's kind of like if you want to think about it when you have the multi factorial design you had the cross product very different parameter and the layer system we have the cross part of every of all different layers right?",
            "So for example in this example you have two layers, you have the add layer in the search layer and we basically have the cross part of those two.",
            "So every experiment with the ads layer would be split.",
            "In this example 5050 between.",
            "Having suggest on and suggest off alright.",
            "Now one key thing to note here is that controls and their experience must be in the same layer, right?",
            "Because because they have independent.",
            "If you have a control on one layer and the experiment in different layer, they're actually going to overlap the brick and have requests that are actually in both experiments, right?",
            "And so just sort of.",
            "Think about what's going to happen here, right?",
            "What you basically have is you have request that comes in.",
            "You're going to basically have you have two.",
            "You actually get two cooking buckets, one for the add layer and one for the search layer right?",
            "And a request is going to be.",
            "In one experiment he adds layer an one experiment in the search layer.",
            "Alright, that's sort of happening here.",
            "We can have conditions as well, I'm just simplifying it for the purpose of this example, right?",
            "So with layers we can basically gain a lot more scalability.",
            "We can basically multiply how many steps we run by effectively the number of layers that we have.",
            "The downside is that we lose flexibility, we cannot.",
            "We can no longer run experiments that use parameters from multiple layers, and there are cases where you know if you're doing a very wide ranging change.",
            "Say for example, the most recent elections that we launched.",
            "We really need to modify programs from across the board and So what do we?"
        ],
        [
            "Do we introduce the idea of domains right and the idea behind domains is that domains now contain layers and layers contain domains, an experiments and the advantage of here is that chemically nest things in order to increase flexibility.",
            "So let me just sort of run through this example.",
            "What we do here is that we now have an incoming request.",
            "The first thing that we do is you keep on.",
            "In this case M 0 and we can say OK well given N 0 is the request in the overlapping domain on the left or in the non overlapping demand on the right.",
            "If the request in the Elephant Man on the left then we go through our two layers.",
            "As before, we say OK, well, now get another cookie MoD bucket, in this case M1 and will say given that cooking bucket, which experiment, if any, is it in the in the add layer.",
            "And then we also get Cookie MoD like it M2 is going to be orthogonal to M1 and we say which experiment, if any, is this request going to be in the search layer and so a request and the overlapping domain in this example would be in at most two experiments.",
            "One of the ads there, one of the search layer.",
            "If however the request is actually in the non overlapping domain, what we do to different cookie MoD?",
            "In this case M3?",
            "And we say give us cooking my bucket, are you in an experiment?",
            "In the novel Thin layer, and you would only be in at most one experiment right now.",
            "The advantage here and see what we can say is that well, if you're an experienced basically only wants to change adds parameters, you can be in the ads layer.",
            "If however, you're doing like a wholesale change originating on the entire research, you know this interest first patients layout, then from then on lifting domain you can change all of the parameters, right?",
            "So you basically bouncing your flexibility with your scalability."
        ],
        [
            "Alright, now I can go through a few more examples here.",
            "So for example, we can do something more complex.",
            "Or in this case have three domains and flipping domain one laughing domain two and a non flapping domain.",
            "You know they possible that you get here is that now I can make you say, well maybe I want a different partitioning of my experiment parameters, right?",
            "So we're going to make it 1.",
            "Might say you know as research or left to Maine 2 might say.",
            "OK, well I want ads.",
            "Do I search Hawaiian algorithms and again in a request would only be in one of those?"
        ],
        [
            "Means you can do something even more complex.",
            "I probably don't have time to go through this very complex example.",
            "If you want to go through it, please come find me in the Post recession.",
            "Now.",
            "All of these in all of this, like nesting of domains and layers is basically because we have this constraint."
        ],
        [
            "Of allowing an experiment parameter only being a single layer, is there any way that we can actually relax that constraint?",
            "Well, the issue with reflecting that constraint is that if you have if you allow an experiment being multiple layers, then in a single request you could be in two experiments that we wanted the same parameter.",
            "What do you do?",
            "How do you clean out?",
            "Take both values, right?",
            "Well, what you do here is you really need to have a well defined composition function, right?",
            "So you need to have some way of composing multiple values here.",
            "Right example here is going to be multiplication.",
            "Multiplication is nicely associative, transitive, you know community, all sorts of properties, and So what you can do, for example, that you maybe you have a threshold you know you have some scoring function and you know you have the base value of services you know.",
            "If you know this document has above the threshold and it's a good enough results to show and then you can have experience that basically modify that threshold by email saying, OK, well, I actually want to increase that threshold, and so in one layer uniquely boosted by 50% and Secondly boosted by 100%, right?",
            "And because you're using this location.",
            "You can basically be in.",
            "You can be in both the same time because you can basically multiply them out now.",
            "This way basically merging experiment parameters allows us to basically gain the flexibility of being able to modify the same parameter and multiple layers, but.",
            "It is much more complex and you really can only do this if you have very well understood experiment parameters."
        ],
        [
            "Alright, so the question is, did we actually succeed?",
            "You know, are we actually able to run more experience simultaneously with this overlapping experiment in future?",
            "Actually, yes we are a big shock.",
            "And So what I have here is I have two graphs on.",
            "The access is on both of these is the time.",
            "So we launched in March of 07 on the Y axis is in either the number of simultaneous experience that running or the number of his experiment owners that were running.",
            "Basically how many people were running experiments the same time?",
            "I'm not able to show you the Y axis because I was not allowed to.",
            "What I will tell you is that it's a linear scale and then we increase by nearly an order of magnitude over the over the course."
        ],
        [
            "Graph.",
            "So in conclusion, would like that I've presented in overlapping experiment infrastructure that allows us to basically increase, but the scalability and the flexibility of how many experience were able to run by introducing conditions, layers, domains in Myrtle parameters.",
            "One key point that I really want to drive home that is really more about more than just infrastructure, right in order to actually run more experiments you need to have really good tools in order to basically help with your experiment design, be it sizing, finding, cooking buckets, experiment, convincing.",
            "Now also stuff as well as analysis, right?",
            "You have to get your metrics fast.",
            "In order to do that, you have to basically have good education an A really culturally supports data driven analysis."
        ],
        [
            "Questions.",
            "I can breathe now.",
            "How do you sign the reward values experiment?",
            "Baccharis and share the reward.",
            "I'm not sure I fully intend question.",
            "Are you dressing history is good or not or there's other?",
            "I'm not sure if it is in the question, maybe we can talk about that offline since I'm getting comments about time.",
            "Any other burning questions?",
            "Public for continue analysis sliders.",
            "Not really now.",
            "Thanks, Diane."
        ]
    ],
    "summarization": {
        "clip_0": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "OK, specially considering I'm also in the advertising field.",
                    "label": 0
                },
                {
                    "sent": "I feel like dying can give us a whole day electron this but have to cut the times.",
                    "label": 0
                },
                {
                    "sent": "So we heard an hour.",
                    "label": 0
                },
                {
                    "sent": "She is it space to Peter.",
                    "label": 0
                },
                {
                    "sent": "OK so so I just want to briefly mention.",
                    "label": 0
                },
                {
                    "sent": "Also this is our best industry track paper runner up.",
                    "label": 0
                },
                {
                    "sent": "Yeah from we announced last night so so unlike the other Diane I'm actually impacting explicitly about how we run randomized experiments at Google and specifically about how we run as many as possible.",
                    "label": 0
                }
            ]
        },
        "clip_1": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "Hopefully I'm preaching to the choir here, but just let me start briefly with a little bit of motivation about why we want to run experiments alright and 1st, what do I mean by an experiment?",
                    "label": 0
                },
                {
                    "sent": "Well, what we do at Google.",
                    "label": 0
                },
                {
                    "sent": "We basically take our live incoming traffic, and this is basically the incoming search queries.",
                    "label": 1
                },
                {
                    "sent": "You go to Google, you type in the query Flowers.",
                    "label": 0
                },
                {
                    "sent": "Those are our queries that we come in, and we want an experiment.",
                    "label": 0
                },
                {
                    "sent": "What we're doing is we're changing how we want to serve the results for that query.",
                    "label": 0
                },
                {
                    "sent": "The goal of these experiences to gather the data on the impact of these changes in order to decide whether or not we want to launch this change doesn't know how do you just behave differently, if at all?",
                    "label": 1
                },
                {
                    "sent": "Now just one brief note in traditional Cisco literature, an experiment refers to a control and a bunch of treatments or treatment arms right at Google we have slightly different terminology because we're weird and risky.",
                    "label": 0
                },
                {
                    "sent": "Experiment for us is basically an individual arm, so you know the entire set of experiments is going to be experiment group, which would be an experiment in traditional school parlance.",
                    "label": 0
                },
                {
                    "sent": "So just like you were clear, now that I'm saying that we're going to be testing complete.",
                    "label": 0
                }
            ]
        },
        "clip_2": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "Run the gamut right?",
                    "label": 0
                },
                {
                    "sent": "They can be very simple UI changes in some like UI, so maybe you want to change the top bad back home color between yellow, blue and green, which hopefully will show up there.",
                    "label": 0
                }
            ]
        },
        "clip_3": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "And we also can do more complex UI, such as whether or not we want to Google suggest so queries.",
                    "label": 0
                }
            ]
        },
        "clip_4": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "Now let's play more near and dear to people like KDD.",
                    "label": 0
                },
                {
                    "sent": "So you have machine learning clicks written algorithms right?",
                    "label": 0
                },
                {
                    "sent": "You can also run life experience here where you're bearing the various parameters of the items or even testing out various items in order to see how well that prediction works.",
                    "label": 0
                }
            ]
        },
        "clip_5": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "Now the question really isn't why we want to run experiments, but why do we want to run so many experiments, right?",
                    "label": 1
                },
                {
                    "sent": "And so The thing is that Google is growing and we're continuing to innovate.",
                    "label": 0
                },
                {
                    "sent": "And as we're growing, we want to run experiments on all the different things that we do and in order to do that with one more experience with running better, I have to run them faster Now, given the length of time that I have, I'm going to focus primarily on how we run more experiments with or overlapping experiment infrastructure.",
                    "label": 0
                },
                {
                    "sent": "If you want to think about better and faster, please give you the.",
                    "label": 0
                }
            ]
        },
        "clip_6": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "So you're probably like why is running that so many times hard?",
                    "label": 1
                },
                {
                    "sent": "I mean, after lunch additional signature, you need 10s, hundreds, maybe thousands of samples in order to actually get statistically significant results in your Google.",
                    "label": 0
                },
                {
                    "sent": "You've got tons of queries.",
                    "label": 0
                },
                {
                    "sent": "What could make running experience so difficult?",
                    "label": 0
                },
                {
                    "sent": "Well, it's actually pretty difficult for the following two reasons.",
                    "label": 0
                },
                {
                    "sent": "The first is that the metrics are really highly variable, right?",
                    "label": 0
                },
                {
                    "sent": "Just think about what you as a user do when you type in the query, say Flowers versus the query.",
                    "label": 0
                },
                {
                    "sent": "You know who said.",
                    "label": 0
                },
                {
                    "sent": "If I had the time, that would be shorter.",
                    "label": 1
                },
                {
                    "sent": "In this case, the talk would be shorter, but basically what happens that you know on you know something like Flowers?",
                    "label": 0
                },
                {
                    "sent": "You're probably comparison shopping.",
                    "label": 0
                },
                {
                    "sent": "You're clicking around, so on and so forth, right on the lot of query, you really just want a single result.",
                    "label": 0
                },
                {
                    "sent": "You may not even click right.",
                    "label": 0
                },
                {
                    "sent": "The variability of what users do on queries is going to be vastly different.",
                    "label": 0
                },
                {
                    "sent": "You can also think of us in terms of segments of traffic, right?",
                    "label": 0
                },
                {
                    "sent": "What's going to happen in English versus Swahili, right?",
                    "label": 0
                },
                {
                    "sent": "The quality of the documents, the number of documents, number of advertisers?",
                    "label": 0
                },
                {
                    "sent": "This fiscal to the users.",
                    "label": 0
                },
                {
                    "sent": "But just going to be vastly different in English versus Swahili.",
                    "label": 0
                },
                {
                    "sent": "And therefore the variability of our metrics, you know, be it clicked away soon, and so forth is just really high.",
                    "label": 1
                },
                {
                    "sent": "And so in order to actually get statistically significant, unreasonable amount of time, you actually need a lot of traffic in an experiment.",
                    "label": 0
                },
                {
                    "sent": "And the other reason that we need that we need a lot of traffic is that were often testing changes that have a load trigger rate.",
                    "label": 0
                },
                {
                    "sent": "In other words, they show up in very few queries, right?",
                    "label": 0
                },
                {
                    "sent": "So just think about whether information, whether information you know how hard is in DC is very, very useful.",
                    "label": 0
                },
                {
                    "sent": "However, if you sit on every single query, that's kind of pointless, right?",
                    "label": 0
                },
                {
                    "sent": "So you're only really want to show the information.",
                    "label": 0
                },
                {
                    "sent": "On the queries where it's appropriate, and that's the case, there are oftentimes features that basically only trigger on very small number of queries.",
                    "label": 0
                },
                {
                    "sent": "However, when they show up.",
                    "label": 0
                },
                {
                    "sent": "The user may change their subsequent queries and so you really have to basically run the experiment on all of the users queries in order to understand what's happening, even though it may only trigger on very few.",
                    "label": 0
                },
                {
                    "sent": "And somehow I met with the next slide.",
                    "label": 0
                },
                {
                    "sent": "Sorry bout that.",
                    "label": 0
                },
                {
                    "sent": "So as well.",
                    "label": 0
                },
                {
                    "sent": "Basically our experience we need a lot of traffic in order to get significant synergy.",
                    "label": 0
                }
            ]
        },
        "clip_7": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "Normal time frame.",
                    "label": 0
                },
                {
                    "sent": "Alright, so before I go into our infrastructure, let me go through a few basic definitions.",
                    "label": 0
                },
                {
                    "sent": "Alright, the first thing is that we have incoming search query requests.",
                    "label": 1
                },
                {
                    "sent": "I'm going to call it R and then basically have two pieces of information right.",
                    "label": 0
                },
                {
                    "sent": "The first is going to be a browser cookie.",
                    "label": 0
                },
                {
                    "sent": "See right?",
                    "label": 0
                },
                {
                    "sent": "There basically is basically a randomly generated number that we you know we store in the browser.",
                    "label": 0
                },
                {
                    "sent": "On.",
                    "label": 1
                },
                {
                    "sent": "The second thing is a set of conditions, right?",
                    "label": 0
                },
                {
                    "sent": "And this can be information about the request, which is like what language is a query in what country is the user coming from, what browser they're using it using Firefox, Chrome, Internet Explorer, things like that.",
                    "label": 0
                },
                {
                    "sent": "Generally speaking, a lot of the conditions are unlikely to change across the request that the users making right.",
                    "label": 0
                },
                {
                    "sent": "So, for example, you're probably if you're a user you're planning not hopping back and forth between Brazil and Japan.",
                    "label": 0
                },
                {
                    "sent": "You're probably going to be either Brazil or Japan.",
                    "label": 0
                },
                {
                    "sent": "The quarreling wouldn't change, but generally speaking the conditions are probably going to be stable across a cookie.",
                    "label": 0
                },
                {
                    "sent": "Now the other thing that we have that in our system we have parameters.",
                    "label": 0
                },
                {
                    "sent": "If I should use the word flag for historical reasons, we use the replies as opposed to parameters.",
                    "label": 0
                },
                {
                    "sent": "But if I say flag, I really need parameter, right?",
                    "label": 1
                },
                {
                    "sent": "And so our system has parameters like, you know.",
                    "label": 1
                },
                {
                    "sent": "Top background color.",
                    "label": 0
                },
                {
                    "sent": "Google suggests on or off the algorithm parameters.",
                    "label": 1
                },
                {
                    "sent": "Things like that, and every parameter has a default value.",
                    "label": 1
                },
                {
                    "sent": "So then more than experiment do well.",
                    "label": 0
                },
                {
                    "sent": "The experiments have to answer 2 questions.",
                    "label": 0
                },
                {
                    "sent": "The first is diversion.",
                    "label": 0
                },
                {
                    "sent": "Is this incoming request in my experiment or not?",
                    "label": 0
                },
                {
                    "sent": "The other question is which set of problems are my overriding right?",
                    "label": 0
                },
                {
                    "sent": "So you know, if I'm running an experiment on the top add background color, I say well instead of yellow, please make the top background color blue right now for the first thing that diversion, there's sort of two things that can take into account.",
                    "label": 1
                },
                {
                    "sent": "The first is conditions, so say for example, I only want to experiment on English traffic because for everyone I believe, but my model for English so far something like that.",
                    "label": 0
                },
                {
                    "sent": "So you know basically know the conditions in order to say OK, well I only want English traffic.",
                    "label": 0
                },
                {
                    "sent": "The other thing that we care about for experiments is the unit of diversion, right?",
                    "label": 0
                },
                {
                    "sent": "You know, is it the two basic ones is cookie versus traffic right on cookie based experiments?",
                    "label": 0
                },
                {
                    "sent": "What you do is, you say, is this cookie in my experiment or not?",
                    "label": 0
                },
                {
                    "sent": "And if so every single request?",
                    "label": 0
                },
                {
                    "sent": "Every single query that that Cookie does is considered to be in my experiment.",
                    "label": 0
                },
                {
                    "sent": "This is very useful for UI experiments where you know if you changed the top add background color going from yellow to blue to green is kind of disconcerting and a bad experience, so you don't really want to do that.",
                    "label": 0
                },
                {
                    "sent": "The other thing that you can do is you can random traffic, experiment and the idea here is that on every single query, regardless of which cook it is you flip and incited die, and say, is this request in my experiment or not?",
                    "label": 0
                },
                {
                    "sent": "So this can be more useful for you know more less user visible changes.",
                    "label": 0
                },
                {
                    "sent": "Given that I'm going to focus primarily on cookie based experiments in this talk, but again, you can generalize from there.",
                    "label": 0
                }
            ]
        },
        "clip_8": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "Alright, so given these backgrounds you can sort of think about two extremes with regards to how you want to run experiments, right?",
                    "label": 0
                },
                {
                    "sent": "The first extreme is what I call the single layer, and this is, you know, a very you know it's a very straightforward infrastructure and it's actually what we use priority than 7, right?",
                    "label": 0
                },
                {
                    "sent": "The idea here is that every request is in at most one experiment.",
                    "label": 1
                },
                {
                    "sent": "What you do is you take an incoming request and you have a cookie and you basically take some function like a fingerprint of the cookie and you want it by 1000.",
                    "label": 0
                },
                {
                    "sent": "Could be 1000, could be 5000, could be 100.",
                    "label": 0
                },
                {
                    "sent": "Let's just use 1000 for now.",
                    "label": 0
                },
                {
                    "sent": "You get a cookie MoD bucket right?",
                    "label": 0
                },
                {
                    "sent": "And so on.",
                    "label": 0
                },
                {
                    "sent": "The X axis for all of these charts you're going to have the cookie MoD bucket on the X axis alright, and one experiment is to say OK. Well I want 10 cookie MoD buckets.",
                    "label": 0
                },
                {
                    "sent": "I want to come up with zero through time, right?",
                    "label": 0
                },
                {
                    "sent": "Or zero through nine.",
                    "label": 0
                },
                {
                    "sent": "I guess you're doing 0 indexed right?",
                    "label": 0
                },
                {
                    "sent": "And that would be equivalent to a 1% experiment alright.",
                    "label": 0
                },
                {
                    "sent": "And so in this example we basically have two sets of experience.",
                    "label": 0
                },
                {
                    "sent": "We have a top add background sort of experience with the control of yellow and then choose from blue and green and they have another set of experience about suggest.",
                    "label": 0
                },
                {
                    "sent": "Armor suggest off now.",
                    "label": 0
                },
                {
                    "sent": "This is a very simple and straightforward experiment in protector right.",
                    "label": 0
                },
                {
                    "sent": "You basically say extreme experiment, but it says which cooking wine buckets it means.",
                    "label": 0
                },
                {
                    "sent": "It's very clear with regards to what you do at diversion time.",
                    "label": 0
                },
                {
                    "sent": "It's just very simple right?",
                    "label": 0
                },
                {
                    "sent": "The main issue that it is infinitely scalable for reasons that I mentioned before.",
                    "label": 0
                },
                {
                    "sent": "The high variability and the load trigger.",
                    "label": 0
                }
            ]
        },
        "clip_9": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "Now you can scale this approach a little bit more by taking advantage of conditions, right?",
                    "label": 0
                },
                {
                    "sent": "What you can do is you can say, well, I know that certain conditions are disjoint.",
                    "label": 1
                },
                {
                    "sent": "So for example, if an experiment running suggests, for example is only running in Brazil, say and I have a weather string only in Japan, then those two experience can share a cookie mine.",
                    "label": 0
                },
                {
                    "sent": "Now the key thing to note here is that each individual request or each individual cookie is still only in a single experiment, because as I mentioned before, you're not going to be toggling back and forth between Brazil and Japan.",
                    "label": 0
                },
                {
                    "sent": "But the key thing is that you can in fact share the same cookie MoD bucket, right?",
                    "label": 0
                },
                {
                    "sent": "What happens what basically what this lease is that you really can increase your scalability?",
                    "label": 1
                },
                {
                    "sent": "You can probably, you know, probably dublish that amount of experience that you can run, but it is a more complex system.",
                    "label": 0
                },
                {
                    "sent": "You have to actually do checks in order to figure out what's disjoint, and you know are you actually allowed to show this cooking bucket and you have more fragmentation, right?",
                    "label": 0
                },
                {
                    "sent": "If you're basically saying, Oh well, you know I can share this cookie MoD then once you actually have an experiment like the top add background color.",
                    "label": 0
                },
                {
                    "sent": "In this example, let's run all traffic you have to find something actually free across all of your conditions.",
                    "label": 0
                },
                {
                    "sent": "Now.",
                    "label": 0
                }
            ]
        },
        "clip_10": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "The other extreme is multi factorial experiment design.",
                    "label": 0
                },
                {
                    "sent": "This is what's commonly you know in traditional split or you can have you know horribly complex things about fractional designs and so on and so forth.",
                    "label": 0
                },
                {
                    "sent": "And the idea here is that you can vary each parameter in dependently right.",
                    "label": 1
                },
                {
                    "sent": "So for example here what we have here is we have effectively in a three parameter at the top that back in color at the top add text color suggests on or off, and all these three parameters vary independently.",
                    "label": 0
                },
                {
                    "sent": "Basically, you know the simplest design case, you do a complete cross part of all these different parameters.",
                    "label": 0
                },
                {
                    "sent": "Right now this seems great.",
                    "label": 0
                },
                {
                    "sent": "Why can't we do this?",
                    "label": 0
                },
                {
                    "sent": "Well there again two very practical issues.",
                    "label": 1
                },
                {
                    "sent": "The first ones that we really only want to serve valid pages, so you know the simplest example here.",
                    "label": 1
                },
                {
                    "sent": "If we serve blue text on a blue background while a valid experiment, there's not a readable page for our users and we cannot serve that right.",
                    "label": 0
                },
                {
                    "sent": "The other thing is that it's not like we have a fixed set of parameters, right?",
                    "label": 0
                },
                {
                    "sent": "Our system is constantly changing, or you know every week we're adding and removing parameters or you know, are you know we're basically adding new features, were testing out new things.",
                    "label": 0
                },
                {
                    "sent": "And so if we can sort of like design, experiment once and be done with it and say, Oh well, here's the optimal settings, right, everything's working all the time.",
                    "label": 1
                },
                {
                    "sent": "And so basically always adding and removing experience, adding and removing parameters and the other thing is that different experience may want to use different spammers, so maybe one month of experience basically modifies the top and bottom color, the top at text color, and then another set of experiences.",
                    "label": 0
                },
                {
                    "sent": "Oh well, I'm playing out suggests, but I haven't also wanted to change the top at text color.",
                    "label": 0
                },
                {
                    "sent": "You know, because I want to change the suggesting to have different texts.",
                    "label": 0
                },
                {
                    "sent": "I want all the match.",
                    "label": 0
                },
                {
                    "sent": "Right, and so you want to be able to have that flexibility.",
                    "label": 0
                },
                {
                    "sent": "Alright, So what do we do?",
                    "label": 0
                },
                {
                    "sent": "What we do is we introduce our overlapping experiment infrastructure and there are two main.",
                    "label": 0
                }
            ]
        },
        "clip_11": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "Concept there layers in domains, so let's start with layers.",
                    "label": 0
                },
                {
                    "sent": "Right now the idea behind layers is that we basically take our experiment parameters.",
                    "label": 0
                },
                {
                    "sent": "What we want to do is we want to partition those printers into disjoint sets, right each disjoint set of parameters is now associated with the layer.",
                    "label": 0
                },
                {
                    "sent": "An layers can now contain experiments and the experience within a layer can only modify the parameters associated with that layer, and every layer is in fact independent of each other.",
                    "label": 1
                },
                {
                    "sent": "You know it's kind of like if you want to think about it when you have the multi factorial design you had the cross product very different parameter and the layer system we have the cross part of every of all different layers right?",
                    "label": 0
                },
                {
                    "sent": "So for example in this example you have two layers, you have the add layer in the search layer and we basically have the cross part of those two.",
                    "label": 0
                },
                {
                    "sent": "So every experiment with the ads layer would be split.",
                    "label": 0
                },
                {
                    "sent": "In this example 5050 between.",
                    "label": 0
                },
                {
                    "sent": "Having suggest on and suggest off alright.",
                    "label": 1
                },
                {
                    "sent": "Now one key thing to note here is that controls and their experience must be in the same layer, right?",
                    "label": 0
                },
                {
                    "sent": "Because because they have independent.",
                    "label": 0
                },
                {
                    "sent": "If you have a control on one layer and the experiment in different layer, they're actually going to overlap the brick and have requests that are actually in both experiments, right?",
                    "label": 0
                },
                {
                    "sent": "And so just sort of.",
                    "label": 0
                },
                {
                    "sent": "Think about what's going to happen here, right?",
                    "label": 0
                },
                {
                    "sent": "What you basically have is you have request that comes in.",
                    "label": 0
                },
                {
                    "sent": "You're going to basically have you have two.",
                    "label": 0
                },
                {
                    "sent": "You actually get two cooking buckets, one for the add layer and one for the search layer right?",
                    "label": 0
                },
                {
                    "sent": "And a request is going to be.",
                    "label": 0
                },
                {
                    "sent": "In one experiment he adds layer an one experiment in the search layer.",
                    "label": 0
                },
                {
                    "sent": "Alright, that's sort of happening here.",
                    "label": 0
                },
                {
                    "sent": "We can have conditions as well, I'm just simplifying it for the purpose of this example, right?",
                    "label": 0
                },
                {
                    "sent": "So with layers we can basically gain a lot more scalability.",
                    "label": 0
                },
                {
                    "sent": "We can basically multiply how many steps we run by effectively the number of layers that we have.",
                    "label": 0
                },
                {
                    "sent": "The downside is that we lose flexibility, we cannot.",
                    "label": 0
                },
                {
                    "sent": "We can no longer run experiments that use parameters from multiple layers, and there are cases where you know if you're doing a very wide ranging change.",
                    "label": 0
                },
                {
                    "sent": "Say for example, the most recent elections that we launched.",
                    "label": 0
                },
                {
                    "sent": "We really need to modify programs from across the board and So what do we?",
                    "label": 0
                }
            ]
        },
        "clip_12": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "Do we introduce the idea of domains right and the idea behind domains is that domains now contain layers and layers contain domains, an experiments and the advantage of here is that chemically nest things in order to increase flexibility.",
                    "label": 1
                },
                {
                    "sent": "So let me just sort of run through this example.",
                    "label": 0
                },
                {
                    "sent": "What we do here is that we now have an incoming request.",
                    "label": 0
                },
                {
                    "sent": "The first thing that we do is you keep on.",
                    "label": 0
                },
                {
                    "sent": "In this case M 0 and we can say OK well given N 0 is the request in the overlapping domain on the left or in the non overlapping demand on the right.",
                    "label": 0
                },
                {
                    "sent": "If the request in the Elephant Man on the left then we go through our two layers.",
                    "label": 0
                },
                {
                    "sent": "As before, we say OK, well, now get another cookie MoD bucket, in this case M1 and will say given that cooking bucket, which experiment, if any, is it in the in the add layer.",
                    "label": 0
                },
                {
                    "sent": "And then we also get Cookie MoD like it M2 is going to be orthogonal to M1 and we say which experiment, if any, is this request going to be in the search layer and so a request and the overlapping domain in this example would be in at most two experiments.",
                    "label": 0
                },
                {
                    "sent": "One of the ads there, one of the search layer.",
                    "label": 0
                },
                {
                    "sent": "If however the request is actually in the non overlapping domain, what we do to different cookie MoD?",
                    "label": 0
                },
                {
                    "sent": "In this case M3?",
                    "label": 0
                },
                {
                    "sent": "And we say give us cooking my bucket, are you in an experiment?",
                    "label": 0
                },
                {
                    "sent": "In the novel Thin layer, and you would only be in at most one experiment right now.",
                    "label": 0
                },
                {
                    "sent": "The advantage here and see what we can say is that well, if you're an experienced basically only wants to change adds parameters, you can be in the ads layer.",
                    "label": 0
                },
                {
                    "sent": "If however, you're doing like a wholesale change originating on the entire research, you know this interest first patients layout, then from then on lifting domain you can change all of the parameters, right?",
                    "label": 0
                },
                {
                    "sent": "So you basically bouncing your flexibility with your scalability.",
                    "label": 0
                }
            ]
        },
        "clip_13": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "Alright, now I can go through a few more examples here.",
                    "label": 0
                },
                {
                    "sent": "So for example, we can do something more complex.",
                    "label": 0
                },
                {
                    "sent": "Or in this case have three domains and flipping domain one laughing domain two and a non flapping domain.",
                    "label": 0
                },
                {
                    "sent": "You know they possible that you get here is that now I can make you say, well maybe I want a different partitioning of my experiment parameters, right?",
                    "label": 0
                },
                {
                    "sent": "So we're going to make it 1.",
                    "label": 0
                },
                {
                    "sent": "Might say you know as research or left to Maine 2 might say.",
                    "label": 0
                },
                {
                    "sent": "OK, well I want ads.",
                    "label": 0
                },
                {
                    "sent": "Do I search Hawaiian algorithms and again in a request would only be in one of those?",
                    "label": 0
                }
            ]
        },
        "clip_14": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "Means you can do something even more complex.",
                    "label": 0
                },
                {
                    "sent": "I probably don't have time to go through this very complex example.",
                    "label": 0
                },
                {
                    "sent": "If you want to go through it, please come find me in the Post recession.",
                    "label": 0
                },
                {
                    "sent": "Now.",
                    "label": 0
                },
                {
                    "sent": "All of these in all of this, like nesting of domains and layers is basically because we have this constraint.",
                    "label": 0
                }
            ]
        },
        "clip_15": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "Of allowing an experiment parameter only being a single layer, is there any way that we can actually relax that constraint?",
                    "label": 0
                },
                {
                    "sent": "Well, the issue with reflecting that constraint is that if you have if you allow an experiment being multiple layers, then in a single request you could be in two experiments that we wanted the same parameter.",
                    "label": 1
                },
                {
                    "sent": "What do you do?",
                    "label": 1
                },
                {
                    "sent": "How do you clean out?",
                    "label": 0
                },
                {
                    "sent": "Take both values, right?",
                    "label": 0
                },
                {
                    "sent": "Well, what you do here is you really need to have a well defined composition function, right?",
                    "label": 0
                },
                {
                    "sent": "So you need to have some way of composing multiple values here.",
                    "label": 0
                },
                {
                    "sent": "Right example here is going to be multiplication.",
                    "label": 0
                },
                {
                    "sent": "Multiplication is nicely associative, transitive, you know community, all sorts of properties, and So what you can do, for example, that you maybe you have a threshold you know you have some scoring function and you know you have the base value of services you know.",
                    "label": 0
                },
                {
                    "sent": "If you know this document has above the threshold and it's a good enough results to show and then you can have experience that basically modify that threshold by email saying, OK, well, I actually want to increase that threshold, and so in one layer uniquely boosted by 50% and Secondly boosted by 100%, right?",
                    "label": 0
                },
                {
                    "sent": "And because you're using this location.",
                    "label": 0
                },
                {
                    "sent": "You can basically be in.",
                    "label": 0
                },
                {
                    "sent": "You can be in both the same time because you can basically multiply them out now.",
                    "label": 0
                },
                {
                    "sent": "This way basically merging experiment parameters allows us to basically gain the flexibility of being able to modify the same parameter and multiple layers, but.",
                    "label": 0
                },
                {
                    "sent": "It is much more complex and you really can only do this if you have very well understood experiment parameters.",
                    "label": 0
                }
            ]
        },
        "clip_16": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "Alright, so the question is, did we actually succeed?",
                    "label": 0
                },
                {
                    "sent": "You know, are we actually able to run more experience simultaneously with this overlapping experiment in future?",
                    "label": 0
                },
                {
                    "sent": "Actually, yes we are a big shock.",
                    "label": 0
                },
                {
                    "sent": "And So what I have here is I have two graphs on.",
                    "label": 0
                },
                {
                    "sent": "The access is on both of these is the time.",
                    "label": 0
                },
                {
                    "sent": "So we launched in March of 07 on the Y axis is in either the number of simultaneous experience that running or the number of his experiment owners that were running.",
                    "label": 0
                },
                {
                    "sent": "Basically how many people were running experiments the same time?",
                    "label": 0
                },
                {
                    "sent": "I'm not able to show you the Y axis because I was not allowed to.",
                    "label": 0
                },
                {
                    "sent": "What I will tell you is that it's a linear scale and then we increase by nearly an order of magnitude over the over the course.",
                    "label": 0
                }
            ]
        },
        "clip_17": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "Graph.",
                    "label": 0
                },
                {
                    "sent": "So in conclusion, would like that I've presented in overlapping experiment infrastructure that allows us to basically increase, but the scalability and the flexibility of how many experience were able to run by introducing conditions, layers, domains in Myrtle parameters.",
                    "label": 1
                },
                {
                    "sent": "One key point that I really want to drive home that is really more about more than just infrastructure, right in order to actually run more experiments you need to have really good tools in order to basically help with your experiment design, be it sizing, finding, cooking buckets, experiment, convincing.",
                    "label": 0
                },
                {
                    "sent": "Now also stuff as well as analysis, right?",
                    "label": 0
                },
                {
                    "sent": "You have to get your metrics fast.",
                    "label": 0
                },
                {
                    "sent": "In order to do that, you have to basically have good education an A really culturally supports data driven analysis.",
                    "label": 0
                }
            ]
        },
        "clip_18": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "Questions.",
                    "label": 0
                },
                {
                    "sent": "I can breathe now.",
                    "label": 0
                },
                {
                    "sent": "How do you sign the reward values experiment?",
                    "label": 0
                },
                {
                    "sent": "Baccharis and share the reward.",
                    "label": 0
                },
                {
                    "sent": "I'm not sure I fully intend question.",
                    "label": 0
                },
                {
                    "sent": "Are you dressing history is good or not or there's other?",
                    "label": 0
                },
                {
                    "sent": "I'm not sure if it is in the question, maybe we can talk about that offline since I'm getting comments about time.",
                    "label": 0
                },
                {
                    "sent": "Any other burning questions?",
                    "label": 0
                },
                {
                    "sent": "Public for continue analysis sliders.",
                    "label": 0
                },
                {
                    "sent": "Not really now.",
                    "label": 0
                },
                {
                    "sent": "Thanks, Diane.",
                    "label": 0
                }
            ]
        }
    }
}