{
    "id": "hcnvhbfuz4okkem53rl2kczof4ccrg2q",
    "title": "Evaluating Online Ad Campaigns in a Pipeline: Causal Models At Scale",
    "info": {
        "author": [
            "Diane Lambert, Research at Google, Google, Inc."
        ],
        "published": "Oct. 1, 2010",
        "recorded": "July 2010",
        "category": [
            "Top->Computer Science->Databases",
            "Top->Mathematics->Statistics"
        ]
    },
    "url": "http://videolectures.net/kdd2010_lambert_eoac/",
    "segmentation": [
        [
            "Alright everyone, welcome.",
            "This is the first session on industry government track for today.",
            "For this session we have 5 papers to present first 2 or 20 minutes presentation and followed by 110 minutes presentation and then back to 20 minutes presentation and then 10 minutes presentation again.",
            "So it's all in the booklet and we will start with the first presentation by Diane Lambert.",
            "Evaluating online at Thanksgiving."
        ],
        [
            "So this is this is about display ads which some of you probably heard Deepak talk about this morning and other times.",
            "So display ads are just adds that run on what are called publisher websites.",
            "So you might see them on New York Times or knittingreview.com and they could be images that can be videos that can be games that can be text ads OK and that people typically don't click them.",
            "I mean one out of 1000.",
            "Is that better went out of 1000 is not.",
            "A bad click through rate for display ad so but still advertisers spend a lot of money on these and they want to know are they effective or not and the question is what difference do these ads make?",
            "And that's really the trick and understanding what the problem is.",
            "If they want to understand, do they make a difference?",
            "Meaning something like how many more people search for their product or how many more people visit their website then would have if they hadn't run the campaign.",
            "It's on the web, so while they're running this, they're doing lots of other things.",
            "There's TV ads, maybe there's print ads, you know the the Toyota truck.",
            "When you see there was all over airports at one point, but what they want to know is, given that all this other stuff is gone on, what's the incremental effect of?"
        ],
        [
            "A display ad.",
            "No, if you're a statistician like me, you would like to see everybody run an experiment.",
            "OK, but advertisers, many of them have no interest in running experiments in this environment and basically in order to run it, they'd have to forgo showing an ad sometime, either in order to randomize 'cause they'd have to randomly decide, or someone would randomly decide who would see the ad and who wouldn't, and they just want to show their ad as much as possible.",
            "They don't want to say no.",
            "I'm not going to show now, maybe my competitor can.",
            "Or maybe you know, a public service ad can.",
            "They don't want to do that, so they don't really want to randomize.",
            "So what you're stuck with this something called a natural experiment and natural experiment just means they do whatever they want to do.",
            "They run the campaign however they want it.",
            "They you know they serve ads to whoever they want to, or whoever they can.",
            "And yet at the end they want to estimate how many more people search for their product.",
            "Because of this came campaign and the problem is how many more OK that means that you know what the baseline is means.",
            "You know how many would have done this if they hadn't run this particular campaign, and so that's the whole problem.",
            "Here is getting a handle on what the baseline is."
        ],
        [
            "OK, So what are the things that the people who want such a system do?",
            "Well, first of all they want to be able to do this because it's Google we want to do this for any advertiser at anytime, no matter what they're doing.",
            "OK, we don't want to have to ask the advertisers to do anything.",
            "They advertise, get to do whatever they always do, and whenever possible, though, we still want to say how many more of something they did, and we also want to make sure that the estimates are good.",
            "And that they're not unsafe."
        ],
        [
            "Save.",
            "Alright, so somehow we have to come up with this baseline and in order to do this you can think of this as a, you know, as a thought experiment.",
            "Or you can think of this as sort of a science fiction world.",
            "OK, and there's a parallel universe, and so there's everybody that you served an ad to and you got to see what they did after being served an ad.",
            "Now you didn't get to see what they did.",
            "If they hadn't been served an ad, that's the parallel universe, right?",
            "That's the thing you don't get to see, but that's the difference in those two outcomes.",
            "The one that you have and the one that you can't observe because it's the parallel world where they weren't served in at the difference of those two says what the effect is on whoever saw the ad and the average of all those differences is what we want to estimate.",
            "So we know what the Y ones are, what we have to do is estimate the YO's for everyone, and that's what our baseline is.",
            "And it's not observable, and that's the whole trick."
        ],
        [
            "OK, now what do we have?",
            "We have all the people we serve dads too and then we can find people who might have seen ads but didn't.",
            "And what do I mean by might have seen ads?",
            "Well they went to the websites where they served these ads at the times when they serve them, but they just didn't have the you know the advertiser maybe didn't win the auction then so the ad wasn't actually shown to whoever was at the website.",
            "So you get some people who saw the ads and some people who didn't see the ads.",
            "Alright, and the ones who didn't they could have, they just didn't OK, but we didn't randomly decide this and So what happens is there's a selection process, which is, you know, the auction, whatever OK and even though the selection process doesn't take into account that this is me and that's you OK, still, you don't end up with a random sample of controls in some sense.",
            "OK, because let's think about it.",
            "The people who are at the websites where the ads are shown.",
            "The most OK. Those people who most visit those publisher sites, they are more likely to see ads.",
            "So the more active you are to be on the web, the more likely you are to see ads.",
            "On the other hand, the more likely you are to be on the web, the more likely you are to do anything.",
            "OK, so the more likely you are to go visit toyota.com simply because you're on the web.",
            "More OK now, at least in principle.",
            "That could happen, and in fact this is from one campaign and what we have here is 4 different panels.",
            "They're called and each one measure is a different kind of activity.",
            "So one might be just total navigations on the website, one might be.",
            "The number of navigations to the sites that show dads OK. One might be searches of certain types, but they're just four measures of activity and in each panel what you have is the ratio of the percentile for the exposed to the percentile for the controls and if the controls looked like the exposed in their percentiles would be the same.",
            "The median for the control activity would be the same as the median for the exposed activity, and those things would all be flat at the.",
            "Dotted line, which is at one and what you can see is that's far from the case.",
            "OK then fact for the.",
            "For D the median activity is about 10 times higher for the Expos and for the controls.",
            "So the controls don't look like exposed.",
            "Would have looked like if they hadn't seen ads, they're not good surrogates for the Expos, but they're the only ones that we have to kind of get it.",
            "This idea of what would have happened if we hadn't shown ads 'cause those are the only people that actually didn't see AD."
        ],
        [
            "OK, so we have this bias in the controls.",
            "They don't look like the exposed we want to make them look like they expose.",
            "So the obvious thing to do is to match.",
            "OK, so that if this guy had 10 navigations before and that control had 10 navigations before and they both speak Chinese and they both were in Taiwan and etc etc etc, then if they were alike before the ad gets served, then we can imagine they would have been alike after the ad has served, so they would make a good match.",
            "But the problem is matching is not so easy when you have a lot of possible things to match on.",
            "OK, so matching in a pipeline.",
            "It's not really what we want to do, so this this remarkable theorem it's not at all new IT goes back to the 1980s and maybe even farther back than that.",
            "Which basically says if you can match on a whole bunch of features X, then you don't actually have to match on the X themselves.",
            "What you can do is match on the probability that someone is exposed given X, so you have you know you have a data set and some of them are exposed and some of them are controls, and if you think about exposed as ones and then controls zeros for example, you can do any kind of like logistic regression or whatever kind you want to do.",
            "As long as you end up with probabilities and not just classifier 01.",
            "But then if you do that with your data, you've got the 01 in the X, you get an estimate of this probability that someone's exposed given X.",
            "It turns out that matching on that is as good as matching an ex itself.",
            "OK, and So what happens here?",
            "Now, if you had a randomized experiment alright, then everybody would have the same probability of exposure, because the treatment you got, whether you saw an ad or you didn't see an ad that's just randomly decided it doesn't depend on X at all.",
            "So as long as you randomization isn't badly broken, probably if X given X is a constant, and so if we looked at those for the exposed and those for the controls which are like the two plots here.",
            "They look the same, they both be flat.",
            "They all they actually both be a spike at whatever the the sampling rate was.",
            "But that we didn't randomize here, we just got whatever we got and then we go back and we can estimate for each exposed person with the probability they exposed were in each control what the probably that they were exposed where, even though they weren't exposed, they some probability they would have been.",
            "And what you can see is they don't look alike.",
            "OK, but we have a lot more controls off and then we have exposed and these are relative densities.",
            "What this is saying is if you take someone that's exposed with the probability of .8, OK, there like someone who's a control with a probability of .8.",
            "OK, now these are called propensity scores and that kind of matching is pretty calm."
        ],
        [
            "And.",
            "But actually, we're not going to exactly match either.",
            "We're going to do something else.",
            "OK, so if some if you have another way to bring balance in is not to match batttery, wait the sample."
        ],
        [
            "OK, so we have these two histograms if you like that look very different.",
            "Well we could re wait and say all of the ones with small probabilities.",
            "They're going to count for two and all the ones so all the controls.",
            "OK that sorry all the controls say we're missing some that have probability of exposure .8 because we have a lot more exposed with P = .8.",
            "Alright then what we have to do is for each control they have to count.",
            "For more OK they have to get away."
        ],
        [
            "Fire away, and that's all that reweighting does.",
            "OK, now the point is the following.",
            "We started off with the histograms in the top row there.",
            "And they didn't.",
            "They're not all at one.",
            "And then we did some fitting and we computed this probability of exposure and now we have a weighted control sample.",
            "We can compute percentiles from that weighted control sample.",
            "It's just another sample.",
            "OK, and when we do that, what we can see now is the percentiles for the controls look like the percentiles for the exposed because they're pretty close to that dotted line at one.",
            "OK, which is exactly where we want it to be now.",
            "They're not really exactly at one, but there are a lot closer than they were when we started because the first plot in the top line has a scale from zero to 20 and the bottom one only has goes up to 1.2 and there's you know, at the very low percentiles there's some problems, but the high ones, which is the ones we're really more worried about, those actually matched well.",
            "OK, so the point is, is that you can do this reweighting.",
            "And get controls.",
            "Fix up the bias if you like in your control sample."
        ],
        [
            "And now you have this waiting.",
            "We've made the two look the same and now the problem is pretty simple.",
            "OK, all you have to do is take the weighted mean of the controls.",
            "And that's your baseline.",
            "OK.",
            "But it's not quite that simple because what we're doing is we're dividing by, you know, we're multiplying by P / 1 -- P, and that you know that's kind of an unstable operation, and so you tend to get estimates that are kind of wild.",
            "Alright, so it's not safe to use in a pipeline.",
            "At least it's not safe.",
            "If you can do something better, which you can."
        ],
        [
            "OK, so how can you do better?",
            "Well, the surprising thing is 2 things.",
            "First of all is that any consistent estimate has to be a function of these these propensity's.",
            "That's just a theorem, and the second theorem is there isn't a best way to use these weights.",
            "And the best way basically is you have to correct for the weights.",
            "That's the only thing that's going wrong.",
            "Is your errors in the weights you know.",
            "Otherwise, everything is perfectly fine.",
            "You need to correct for your errors and Pi will.",
            "What is the error MPI if it was exposed in the air is 1 -- P I it was controlled in the errors minus Pi."
        ],
        [
            "So there's a simple function which I'm not really going to explain, except you can see it's just basically sort of a linear function right where the Z is 1.",
            "If you're exposed and 0 not.",
            "Where you combine these things OK, and that actually isn't optimal estimate and doesn't really matter in what ways to optimize, But you know it's got nice properties.",
            "And it turns out that if you propensity's functions right, but your outcome models are wrong, then it's still consistent.",
            "OK, and if vice versa, if your outcome models are right, but your propensity is wrong thing, you're still consistent, so it's called doubly robust 'cause you get to get one of your sets of models all wrong."
        ],
        [
            "OK, so the other thing about this is that if you want to estimate how this evolves overtime, then that other thing is you can just put some weights and there the Wis.",
            "So what does that mean?",
            "Well, you know when these you saw these these guys, right?",
            "And so all you have to do is somehow have a kernel write a density estimate and say all of the ones you got around.",
            "This time they're going to contribute to my estimate of Delta at that time.",
            "OK, and then we get a plot that looks like the one given here.",
            "Now the green line that one is the average over the whole campaign that would be computed using the estimate.",
            "The formula we had before.",
            "And a blue line is the one that's estimated overtime, and because they change, you know these campaigns.",
            "Remember there in the wild, they can do whatever they would like, and so it doesn't look like that's an average of the blue line.",
            "And the reason for that is because they don't play out impressions at a uniform rate in this particular one.",
            "They first did some playing around, and they ran them at a low rate and they actually had negative affects.",
            "OK, and then after awhile they kind of figured out what they were doing.",
            "And they they ended up with a positive effect.",
            "But the point is, is because you have this formula with weights in it, you can actually play with the weights to get estimates of other things you want, and the only condition is your weights can't be different.",
            "Can't depend on whether someone's exposed or control.",
            "OK, Young is going to make me sit down."
        ],
        [
            "Down now."
        ],
        [
            "Let me just I just want to say one thing you can actually though you still."
        ],
        [
            "Can run into trouble with these things alright, and all your standard diagnostics won't tell you you're in trouble and the trouble you're in is that you've omitted some of the features from your model that you need OK, and you don't know that there's sort of no way to tell that, except there's a way to protect yourself against it, and that's using irrelevant outcomes.",
            "So if you run a campaign for the browser Chrome, then recipes searching for recipes is an irrelevant outcome.",
            "You can compute using your exact same data.",
            "Just changing the outcome, use the same controls in the same exposed and see what the effect is on somebody searching for recipes.",
            "Well, there shouldn't be any right because Chrome is nothing to do with recipes, so you can do this for lots of irrelevant outcomes.",
            "And when you do that at that point you have a null distribution.",
            "And now you can compare your estimate to that and that null distribution.",
            "Everything is affected by the bias, so you've sort of protected yourself and put a higher bar in for significance.",
            "At any rate, there's all the details are in the paper, all the references are in the paper, and I'd be happy to talk with anyone later, but being would like me to stop.",
            "We have"
        ]
    ],
    "summarization": {
        "clip_0": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "Alright everyone, welcome.",
                    "label": 0
                },
                {
                    "sent": "This is the first session on industry government track for today.",
                    "label": 0
                },
                {
                    "sent": "For this session we have 5 papers to present first 2 or 20 minutes presentation and followed by 110 minutes presentation and then back to 20 minutes presentation and then 10 minutes presentation again.",
                    "label": 0
                },
                {
                    "sent": "So it's all in the booklet and we will start with the first presentation by Diane Lambert.",
                    "label": 0
                },
                {
                    "sent": "Evaluating online at Thanksgiving.",
                    "label": 0
                }
            ]
        },
        "clip_1": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "So this is this is about display ads which some of you probably heard Deepak talk about this morning and other times.",
                    "label": 0
                },
                {
                    "sent": "So display ads are just adds that run on what are called publisher websites.",
                    "label": 0
                },
                {
                    "sent": "So you might see them on New York Times or knittingreview.com and they could be images that can be videos that can be games that can be text ads OK and that people typically don't click them.",
                    "label": 0
                },
                {
                    "sent": "I mean one out of 1000.",
                    "label": 0
                },
                {
                    "sent": "Is that better went out of 1000 is not.",
                    "label": 0
                },
                {
                    "sent": "A bad click through rate for display ad so but still advertisers spend a lot of money on these and they want to know are they effective or not and the question is what difference do these ads make?",
                    "label": 0
                },
                {
                    "sent": "And that's really the trick and understanding what the problem is.",
                    "label": 0
                },
                {
                    "sent": "If they want to understand, do they make a difference?",
                    "label": 0
                },
                {
                    "sent": "Meaning something like how many more people search for their product or how many more people visit their website then would have if they hadn't run the campaign.",
                    "label": 1
                },
                {
                    "sent": "It's on the web, so while they're running this, they're doing lots of other things.",
                    "label": 0
                },
                {
                    "sent": "There's TV ads, maybe there's print ads, you know the the Toyota truck.",
                    "label": 0
                },
                {
                    "sent": "When you see there was all over airports at one point, but what they want to know is, given that all this other stuff is gone on, what's the incremental effect of?",
                    "label": 0
                }
            ]
        },
        "clip_2": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "A display ad.",
                    "label": 0
                },
                {
                    "sent": "No, if you're a statistician like me, you would like to see everybody run an experiment.",
                    "label": 0
                },
                {
                    "sent": "OK, but advertisers, many of them have no interest in running experiments in this environment and basically in order to run it, they'd have to forgo showing an ad sometime, either in order to randomize 'cause they'd have to randomly decide, or someone would randomly decide who would see the ad and who wouldn't, and they just want to show their ad as much as possible.",
                    "label": 0
                },
                {
                    "sent": "They don't want to say no.",
                    "label": 0
                },
                {
                    "sent": "I'm not going to show now, maybe my competitor can.",
                    "label": 0
                },
                {
                    "sent": "Or maybe you know, a public service ad can.",
                    "label": 0
                },
                {
                    "sent": "They don't want to do that, so they don't really want to randomize.",
                    "label": 1
                },
                {
                    "sent": "So what you're stuck with this something called a natural experiment and natural experiment just means they do whatever they want to do.",
                    "label": 0
                },
                {
                    "sent": "They run the campaign however they want it.",
                    "label": 1
                },
                {
                    "sent": "They you know they serve ads to whoever they want to, or whoever they can.",
                    "label": 1
                },
                {
                    "sent": "And yet at the end they want to estimate how many more people search for their product.",
                    "label": 0
                },
                {
                    "sent": "Because of this came campaign and the problem is how many more OK that means that you know what the baseline is means.",
                    "label": 0
                },
                {
                    "sent": "You know how many would have done this if they hadn't run this particular campaign, and so that's the whole problem.",
                    "label": 0
                },
                {
                    "sent": "Here is getting a handle on what the baseline is.",
                    "label": 0
                }
            ]
        },
        "clip_3": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "OK, So what are the things that the people who want such a system do?",
                    "label": 0
                },
                {
                    "sent": "Well, first of all they want to be able to do this because it's Google we want to do this for any advertiser at anytime, no matter what they're doing.",
                    "label": 0
                },
                {
                    "sent": "OK, we don't want to have to ask the advertisers to do anything.",
                    "label": 1
                },
                {
                    "sent": "They advertise, get to do whatever they always do, and whenever possible, though, we still want to say how many more of something they did, and we also want to make sure that the estimates are good.",
                    "label": 1
                },
                {
                    "sent": "And that they're not unsafe.",
                    "label": 0
                }
            ]
        },
        "clip_4": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "Save.",
                    "label": 0
                },
                {
                    "sent": "Alright, so somehow we have to come up with this baseline and in order to do this you can think of this as a, you know, as a thought experiment.",
                    "label": 0
                },
                {
                    "sent": "Or you can think of this as sort of a science fiction world.",
                    "label": 0
                },
                {
                    "sent": "OK, and there's a parallel universe, and so there's everybody that you served an ad to and you got to see what they did after being served an ad.",
                    "label": 0
                },
                {
                    "sent": "Now you didn't get to see what they did.",
                    "label": 0
                },
                {
                    "sent": "If they hadn't been served an ad, that's the parallel universe, right?",
                    "label": 1
                },
                {
                    "sent": "That's the thing you don't get to see, but that's the difference in those two outcomes.",
                    "label": 0
                },
                {
                    "sent": "The one that you have and the one that you can't observe because it's the parallel world where they weren't served in at the difference of those two says what the effect is on whoever saw the ad and the average of all those differences is what we want to estimate.",
                    "label": 1
                },
                {
                    "sent": "So we know what the Y ones are, what we have to do is estimate the YO's for everyone, and that's what our baseline is.",
                    "label": 0
                },
                {
                    "sent": "And it's not observable, and that's the whole trick.",
                    "label": 0
                }
            ]
        },
        "clip_5": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "OK, now what do we have?",
                    "label": 0
                },
                {
                    "sent": "We have all the people we serve dads too and then we can find people who might have seen ads but didn't.",
                    "label": 0
                },
                {
                    "sent": "And what do I mean by might have seen ads?",
                    "label": 0
                },
                {
                    "sent": "Well they went to the websites where they served these ads at the times when they serve them, but they just didn't have the you know the advertiser maybe didn't win the auction then so the ad wasn't actually shown to whoever was at the website.",
                    "label": 0
                },
                {
                    "sent": "So you get some people who saw the ads and some people who didn't see the ads.",
                    "label": 0
                },
                {
                    "sent": "Alright, and the ones who didn't they could have, they just didn't OK, but we didn't randomly decide this and So what happens is there's a selection process, which is, you know, the auction, whatever OK and even though the selection process doesn't take into account that this is me and that's you OK, still, you don't end up with a random sample of controls in some sense.",
                    "label": 0
                },
                {
                    "sent": "OK, because let's think about it.",
                    "label": 0
                },
                {
                    "sent": "The people who are at the websites where the ads are shown.",
                    "label": 0
                },
                {
                    "sent": "The most OK. Those people who most visit those publisher sites, they are more likely to see ads.",
                    "label": 0
                },
                {
                    "sent": "So the more active you are to be on the web, the more likely you are to see ads.",
                    "label": 0
                },
                {
                    "sent": "On the other hand, the more likely you are to be on the web, the more likely you are to do anything.",
                    "label": 0
                },
                {
                    "sent": "OK, so the more likely you are to go visit toyota.com simply because you're on the web.",
                    "label": 0
                },
                {
                    "sent": "More OK now, at least in principle.",
                    "label": 0
                },
                {
                    "sent": "That could happen, and in fact this is from one campaign and what we have here is 4 different panels.",
                    "label": 0
                },
                {
                    "sent": "They're called and each one measure is a different kind of activity.",
                    "label": 0
                },
                {
                    "sent": "So one might be just total navigations on the website, one might be.",
                    "label": 0
                },
                {
                    "sent": "The number of navigations to the sites that show dads OK. One might be searches of certain types, but they're just four measures of activity and in each panel what you have is the ratio of the percentile for the exposed to the percentile for the controls and if the controls looked like the exposed in their percentiles would be the same.",
                    "label": 0
                },
                {
                    "sent": "The median for the control activity would be the same as the median for the exposed activity, and those things would all be flat at the.",
                    "label": 1
                },
                {
                    "sent": "Dotted line, which is at one and what you can see is that's far from the case.",
                    "label": 0
                },
                {
                    "sent": "OK then fact for the.",
                    "label": 0
                },
                {
                    "sent": "For D the median activity is about 10 times higher for the Expos and for the controls.",
                    "label": 0
                },
                {
                    "sent": "So the controls don't look like exposed.",
                    "label": 0
                },
                {
                    "sent": "Would have looked like if they hadn't seen ads, they're not good surrogates for the Expos, but they're the only ones that we have to kind of get it.",
                    "label": 0
                },
                {
                    "sent": "This idea of what would have happened if we hadn't shown ads 'cause those are the only people that actually didn't see AD.",
                    "label": 0
                }
            ]
        },
        "clip_6": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "OK, so we have this bias in the controls.",
                    "label": 1
                },
                {
                    "sent": "They don't look like the exposed we want to make them look like they expose.",
                    "label": 0
                },
                {
                    "sent": "So the obvious thing to do is to match.",
                    "label": 0
                },
                {
                    "sent": "OK, so that if this guy had 10 navigations before and that control had 10 navigations before and they both speak Chinese and they both were in Taiwan and etc etc etc, then if they were alike before the ad gets served, then we can imagine they would have been alike after the ad has served, so they would make a good match.",
                    "label": 0
                },
                {
                    "sent": "But the problem is matching is not so easy when you have a lot of possible things to match on.",
                    "label": 0
                },
                {
                    "sent": "OK, so matching in a pipeline.",
                    "label": 0
                },
                {
                    "sent": "It's not really what we want to do, so this this remarkable theorem it's not at all new IT goes back to the 1980s and maybe even farther back than that.",
                    "label": 0
                },
                {
                    "sent": "Which basically says if you can match on a whole bunch of features X, then you don't actually have to match on the X themselves.",
                    "label": 0
                },
                {
                    "sent": "What you can do is match on the probability that someone is exposed given X, so you have you know you have a data set and some of them are exposed and some of them are controls, and if you think about exposed as ones and then controls zeros for example, you can do any kind of like logistic regression or whatever kind you want to do.",
                    "label": 0
                },
                {
                    "sent": "As long as you end up with probabilities and not just classifier 01.",
                    "label": 0
                },
                {
                    "sent": "But then if you do that with your data, you've got the 01 in the X, you get an estimate of this probability that someone's exposed given X.",
                    "label": 0
                },
                {
                    "sent": "It turns out that matching on that is as good as matching an ex itself.",
                    "label": 1
                },
                {
                    "sent": "OK, and So what happens here?",
                    "label": 0
                },
                {
                    "sent": "Now, if you had a randomized experiment alright, then everybody would have the same probability of exposure, because the treatment you got, whether you saw an ad or you didn't see an ad that's just randomly decided it doesn't depend on X at all.",
                    "label": 0
                },
                {
                    "sent": "So as long as you randomization isn't badly broken, probably if X given X is a constant, and so if we looked at those for the exposed and those for the controls which are like the two plots here.",
                    "label": 0
                },
                {
                    "sent": "They look the same, they both be flat.",
                    "label": 0
                },
                {
                    "sent": "They all they actually both be a spike at whatever the the sampling rate was.",
                    "label": 0
                },
                {
                    "sent": "But that we didn't randomize here, we just got whatever we got and then we go back and we can estimate for each exposed person with the probability they exposed were in each control what the probably that they were exposed where, even though they weren't exposed, they some probability they would have been.",
                    "label": 0
                },
                {
                    "sent": "And what you can see is they don't look alike.",
                    "label": 0
                },
                {
                    "sent": "OK, but we have a lot more controls off and then we have exposed and these are relative densities.",
                    "label": 0
                },
                {
                    "sent": "What this is saying is if you take someone that's exposed with the probability of .8, OK, there like someone who's a control with a probability of .8.",
                    "label": 0
                },
                {
                    "sent": "OK, now these are called propensity scores and that kind of matching is pretty calm.",
                    "label": 0
                }
            ]
        },
        "clip_7": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "And.",
                    "label": 0
                },
                {
                    "sent": "But actually, we're not going to exactly match either.",
                    "label": 0
                },
                {
                    "sent": "We're going to do something else.",
                    "label": 0
                },
                {
                    "sent": "OK, so if some if you have another way to bring balance in is not to match batttery, wait the sample.",
                    "label": 0
                }
            ]
        },
        "clip_8": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "OK, so we have these two histograms if you like that look very different.",
                    "label": 0
                },
                {
                    "sent": "Well we could re wait and say all of the ones with small probabilities.",
                    "label": 0
                },
                {
                    "sent": "They're going to count for two and all the ones so all the controls.",
                    "label": 0
                },
                {
                    "sent": "OK that sorry all the controls say we're missing some that have probability of exposure .8 because we have a lot more exposed with P = .8.",
                    "label": 0
                },
                {
                    "sent": "Alright then what we have to do is for each control they have to count.",
                    "label": 0
                },
                {
                    "sent": "For more OK they have to get away.",
                    "label": 0
                }
            ]
        },
        "clip_9": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "Fire away, and that's all that reweighting does.",
                    "label": 0
                },
                {
                    "sent": "OK, now the point is the following.",
                    "label": 0
                },
                {
                    "sent": "We started off with the histograms in the top row there.",
                    "label": 0
                },
                {
                    "sent": "And they didn't.",
                    "label": 0
                },
                {
                    "sent": "They're not all at one.",
                    "label": 0
                },
                {
                    "sent": "And then we did some fitting and we computed this probability of exposure and now we have a weighted control sample.",
                    "label": 0
                },
                {
                    "sent": "We can compute percentiles from that weighted control sample.",
                    "label": 0
                },
                {
                    "sent": "It's just another sample.",
                    "label": 0
                },
                {
                    "sent": "OK, and when we do that, what we can see now is the percentiles for the controls look like the percentiles for the exposed because they're pretty close to that dotted line at one.",
                    "label": 0
                },
                {
                    "sent": "OK, which is exactly where we want it to be now.",
                    "label": 0
                },
                {
                    "sent": "They're not really exactly at one, but there are a lot closer than they were when we started because the first plot in the top line has a scale from zero to 20 and the bottom one only has goes up to 1.2 and there's you know, at the very low percentiles there's some problems, but the high ones, which is the ones we're really more worried about, those actually matched well.",
                    "label": 0
                },
                {
                    "sent": "OK, so the point is, is that you can do this reweighting.",
                    "label": 0
                },
                {
                    "sent": "And get controls.",
                    "label": 0
                },
                {
                    "sent": "Fix up the bias if you like in your control sample.",
                    "label": 0
                }
            ]
        },
        "clip_10": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "And now you have this waiting.",
                    "label": 0
                },
                {
                    "sent": "We've made the two look the same and now the problem is pretty simple.",
                    "label": 0
                },
                {
                    "sent": "OK, all you have to do is take the weighted mean of the controls.",
                    "label": 0
                },
                {
                    "sent": "And that's your baseline.",
                    "label": 0
                },
                {
                    "sent": "OK.",
                    "label": 0
                },
                {
                    "sent": "But it's not quite that simple because what we're doing is we're dividing by, you know, we're multiplying by P / 1 -- P, and that you know that's kind of an unstable operation, and so you tend to get estimates that are kind of wild.",
                    "label": 0
                },
                {
                    "sent": "Alright, so it's not safe to use in a pipeline.",
                    "label": 1
                },
                {
                    "sent": "At least it's not safe.",
                    "label": 0
                },
                {
                    "sent": "If you can do something better, which you can.",
                    "label": 0
                }
            ]
        },
        "clip_11": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "OK, so how can you do better?",
                    "label": 0
                },
                {
                    "sent": "Well, the surprising thing is 2 things.",
                    "label": 0
                },
                {
                    "sent": "First of all is that any consistent estimate has to be a function of these these propensity's.",
                    "label": 1
                },
                {
                    "sent": "That's just a theorem, and the second theorem is there isn't a best way to use these weights.",
                    "label": 0
                },
                {
                    "sent": "And the best way basically is you have to correct for the weights.",
                    "label": 0
                },
                {
                    "sent": "That's the only thing that's going wrong.",
                    "label": 0
                },
                {
                    "sent": "Is your errors in the weights you know.",
                    "label": 1
                },
                {
                    "sent": "Otherwise, everything is perfectly fine.",
                    "label": 0
                },
                {
                    "sent": "You need to correct for your errors and Pi will.",
                    "label": 0
                },
                {
                    "sent": "What is the error MPI if it was exposed in the air is 1 -- P I it was controlled in the errors minus Pi.",
                    "label": 0
                }
            ]
        },
        "clip_12": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "So there's a simple function which I'm not really going to explain, except you can see it's just basically sort of a linear function right where the Z is 1.",
                    "label": 0
                },
                {
                    "sent": "If you're exposed and 0 not.",
                    "label": 0
                },
                {
                    "sent": "Where you combine these things OK, and that actually isn't optimal estimate and doesn't really matter in what ways to optimize, But you know it's got nice properties.",
                    "label": 0
                },
                {
                    "sent": "And it turns out that if you propensity's functions right, but your outcome models are wrong, then it's still consistent.",
                    "label": 0
                },
                {
                    "sent": "OK, and if vice versa, if your outcome models are right, but your propensity is wrong thing, you're still consistent, so it's called doubly robust 'cause you get to get one of your sets of models all wrong.",
                    "label": 0
                }
            ]
        },
        "clip_13": {
            "is_summarization_sample": false,
            "summarization_data": []
        },
        "clip_14": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "OK, so the other thing about this is that if you want to estimate how this evolves overtime, then that other thing is you can just put some weights and there the Wis.",
                    "label": 0
                },
                {
                    "sent": "So what does that mean?",
                    "label": 0
                },
                {
                    "sent": "Well, you know when these you saw these these guys, right?",
                    "label": 0
                },
                {
                    "sent": "And so all you have to do is somehow have a kernel write a density estimate and say all of the ones you got around.",
                    "label": 0
                },
                {
                    "sent": "This time they're going to contribute to my estimate of Delta at that time.",
                    "label": 0
                },
                {
                    "sent": "OK, and then we get a plot that looks like the one given here.",
                    "label": 0
                },
                {
                    "sent": "Now the green line that one is the average over the whole campaign that would be computed using the estimate.",
                    "label": 0
                },
                {
                    "sent": "The formula we had before.",
                    "label": 0
                },
                {
                    "sent": "And a blue line is the one that's estimated overtime, and because they change, you know these campaigns.",
                    "label": 0
                },
                {
                    "sent": "Remember there in the wild, they can do whatever they would like, and so it doesn't look like that's an average of the blue line.",
                    "label": 0
                },
                {
                    "sent": "And the reason for that is because they don't play out impressions at a uniform rate in this particular one.",
                    "label": 0
                },
                {
                    "sent": "They first did some playing around, and they ran them at a low rate and they actually had negative affects.",
                    "label": 0
                },
                {
                    "sent": "OK, and then after awhile they kind of figured out what they were doing.",
                    "label": 0
                },
                {
                    "sent": "And they they ended up with a positive effect.",
                    "label": 0
                },
                {
                    "sent": "But the point is, is because you have this formula with weights in it, you can actually play with the weights to get estimates of other things you want, and the only condition is your weights can't be different.",
                    "label": 0
                },
                {
                    "sent": "Can't depend on whether someone's exposed or control.",
                    "label": 0
                },
                {
                    "sent": "OK, Young is going to make me sit down.",
                    "label": 0
                }
            ]
        },
        "clip_15": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "Down now.",
                    "label": 0
                }
            ]
        },
        "clip_16": {
            "is_summarization_sample": false,
            "summarization_data": [
                {
                    "sent": "Let me just I just want to say one thing you can actually though you still.",
                    "label": 0
                }
            ]
        },
        "clip_17": {
            "is_summarization_sample": true,
            "summarization_data": [
                {
                    "sent": "Can run into trouble with these things alright, and all your standard diagnostics won't tell you you're in trouble and the trouble you're in is that you've omitted some of the features from your model that you need OK, and you don't know that there's sort of no way to tell that, except there's a way to protect yourself against it, and that's using irrelevant outcomes.",
                    "label": 0
                },
                {
                    "sent": "So if you run a campaign for the browser Chrome, then recipes searching for recipes is an irrelevant outcome.",
                    "label": 1
                },
                {
                    "sent": "You can compute using your exact same data.",
                    "label": 0
                },
                {
                    "sent": "Just changing the outcome, use the same controls in the same exposed and see what the effect is on somebody searching for recipes.",
                    "label": 0
                },
                {
                    "sent": "Well, there shouldn't be any right because Chrome is nothing to do with recipes, so you can do this for lots of irrelevant outcomes.",
                    "label": 0
                },
                {
                    "sent": "And when you do that at that point you have a null distribution.",
                    "label": 0
                },
                {
                    "sent": "And now you can compare your estimate to that and that null distribution.",
                    "label": 0
                },
                {
                    "sent": "Everything is affected by the bias, so you've sort of protected yourself and put a higher bar in for significance.",
                    "label": 0
                },
                {
                    "sent": "At any rate, there's all the details are in the paper, all the references are in the paper, and I'd be happy to talk with anyone later, but being would like me to stop.",
                    "label": 0
                },
                {
                    "sent": "We have",
                    "label": 0
                }
            ]
        }
    }
}